@model IEnumerable<UserModel>
@{
    ViewData["Title"] = "Users";
}

<h2> User Accounts </h2>
<table>
    <tr>
        <th>ID</th>
        <th>Username</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th/>
    </tr>
    @foreach (UserModel user in Model)
    {
            
        <tr>
            <td>@user.Id</td>
            <td>@user.UserName</td>
            <td>
                @if (user.FirstName != null && !@user.FirstName.Equals(""))
                {<p>@user.FirstName</p>}
                else
                {<p>[Not Specified]</p>}
             </td>
            <td>
                @if (user.LastName != null && !@user.LastName.Equals(""))
                {<p>@user.LastName</p>}
                else
                {<p>[Not Specified]</p>}
            </td>
            <td>
                @if (user.Email != null && !@user.Email.Equals(""))
                {<p>@user.Email</p>}
                else
                {<p>[Not Specified]</p>}
            </td>

            <td>
                @if (user.UserName != User.Identity.Name)
                {
                    <form id="playersForm" asp-action="Delete" asp-controller="Account" method="post">
                        <input type="hidden" name="Id" value="@user.Id" />
                        <button type="submit" class="button redButton"> Delete  </button>
                    </form>
                }
                else{
                    <p>Cannot Delete Yourself.</p>
                }

            </td>
        </tr>
    }
</table>
